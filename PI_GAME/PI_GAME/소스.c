#define _CRT_SECURE_NO_WARNINGS 
#include<stdio.h>
#include<stdlib.h>
#include<conio.h>
#include<windows.h>
#include<string.h>
#include<time.h>
#include<process.h>

#define C 1046.502
#define D 1174.659
#define E 1318.510
#define F 1396.913
#define G 1567.982
#define A 1760.000
#define B 1975.533
#define C2 2093.005
#define D2 2349.318
#define E2 2637.020
#define X 38.8909

void Gotxy(int x, int y) {
	COORD Pos = { y - 1,x - 1 };
	SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE), Pos);
}

void ColorSet(int backColor, int textColor) {
	HANDLE handle = GetStdHandle(STD_OUTPUT_HANDLE);
	SetConsoleTextAttribute(handle, (backColor << 4) + textColor);
}

void hamsufor() { //게임 시작 함수 
	long str[1009] = { 3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5, 8, 9, 7, 9, 3, 2, 3, 8, 4, 6, 2, 6, 4, 3, 3, 8, 3, 2, 7, 9, 5, 0, 2, 8, 8, 4, 1, 9, 7, 1, 6, 9, 3, 9, 9, 3, 7, 5, 1, 0, 5, 8, 2,  0, 9, 7, 4, 9, 4, 4, 5, 9, 2, 3, 0, 7, 8, 1, 6, 4, 0, 6, 2, 8, 6, 2, 0, 8, 9, 9, 8, 6, 2, 8, 0, 3, 4, 8, 2, 5, 3, 4, 2, 1, 1, 7, 0, 6, 7, 9, 8, 2, 1, 4, 8, 0, 8, 6, 5, 1, 3, 2, 8, 2, 3, 0, 6, 6, 4, 7, 0, 9, 3, 8, 4, 4, 6, 0, 9, 5, 5, 0, 5, 8, 2, 2, 3, 1, 7, 2, 5, 3, 5, 9, 4, 0, 8, 1, 2, 8, 4, 8, 1, 1, 1, 7, 4, 5, 0, 2, 8, 4, 1, 0, 2, 7, 0, 1, 9, 3, 8, 5, 2, 1, 1, 0, 5, 5, 9, 6, 4, 4, 6, 2, 2, 9, 4, 8, 9, 5, 4, 9, 3, 0, 0, 3, 8, 1, 9, 6, 4, 4, 2, 8, 8, 1, 0, 9, 7, 5, 6, 6, 5, 9, 3, 3, 4, 4, 6, 1, 2, 8, 4, 7, 5, 6, 4, 8, 2, 3, 3, 7, 8, 6, 7, 8, 3, 1, 6, 5, 2, 7, 1, 2, 0, 1, 9, 0, 9, 1, 4, 5, 6, 4, 8, 5, 6, 6, 9, 2, 3, 4, 6, 0, 3, 4, 8, 6, 1, 0, 4, 5, 4, 3, 2, 6, 6, 4, 8, 2, 1, 3, 3, 9, 3, 6, 0, 7, 2, 6, 0, 2, 4, 9, 1, 4, 1, 2, 7, 3, 7, 2, 4, 5, 8, 7, 0, 0, 6, 6, 0, 6, 3, 1, 5, 5, 8, 8, 1, 7, 4, 8, 8, 1, 5, 2, 0, 9, 2, 0, 9, 6, 2, 8, 2, 9, 2, 5, 4, 0, 9, 1, 7, 1, 5, 3, 6, 4, 3, 6, 7, 8, 9, 2, 5, 9, 0, 3, 6, 0, 0, 1, 1, 3, 3, 0, 5, 3, 0, 5, 4, 8, 8, 2, 0, 4, 6, 6, 5, 2, 1, 3, 8, 4, 1, 4, 6, 9, 5, 1, 9, 4, 1, 5, 1, 1, 6, 0, 9, 4, 3, 3, 0, 5, 7, 2, 7, 0, 3, 6, 5, 7, 5, 9, 5, 9, 1, 9, 5, 3, 0, 9, 2, 1, 8, 6, 1, 1, 7, 3, 8, 1, 9, 3, 2, 6, 1, 1, 7, 9, 3, 1, 0, 5, 1, 1, 8, 5, 4, 8, 0, 7, 4, 4, 6, 2, 3, 7, 9, 9, 6, 2, 7, 4, 9, 5, 6, 7, 3, 5, 1, 8, 8, 5, 7, 5, 2, 7, 2, 4, 8, 9, 1, 2, 2, 7, 9, 3, 8, 1, 8, 3, 0, 1, 1, 9, 4, 9, 1, 2, 9, 8, 3, 3, 6, 7, 3, 3, 6, 2, 4, 4, 0, 6, 5, 6, 6, 4, 3, 0, 8, 6, 0, 2, 1, 3, 9, 4, 9, 4, 6, 3, 9, 5, 2, 2, 4, 7, 3, 7, 1, 9, 0, 7, 0, 2, 1, 7, 9, 8, 6, 0, 9, 4, 3, 7, 0, 2, 7, 7, 0, 5, 3, 9, 2, 1, 7, 1, 7, 6, 2, 9, 3, 1, 7, 6, 7, 5, 2, 3, 8, 4, 6, 7, 4, 8, 1, 8, 4, 6, 7, 6, 6, 9, 4, 0, 5, 1, 3, 2, 0, 0, 0, 5, 6, 8, 1, 2, 7, 1, 4, 5, 2, 6, 3, 5, 6, 0, 8, 2, 7, 7, 8, 5, 7, 7, 1, 3, 4, 2, 7, 5, 7, 7, 8, 9, 6, 0, 9, 1, 7, 3, 6, 3, 7, 1, 7, 8, 7, 2, 1, 4, 6, 8, 4, 4, 0, 9, 0, 1, 2, 2, 4, 9, 5, 3, 4, 3, 0, 1, 4, 6, 5, 4, 9, 5, 8, 5, 3, 7, 1, 0, 5, 0, 7, 9, 2, 2, 7, 9, 6, 8, 9, 2, 5, 8, 9, 2, 3, 5, 4, 2, 0, 1, 9, 9, 5, 6, 1, 1, 2, 1, 2, 9, 0, 2, 1, 9, 6, 0, 8, 6, 4, 0, 3, 4, 4, 1, 8, 1, 5, 9, 8, 1, 3, 6, 2, 9, 7, 7, 4, 7, 7, 1, 3, 0, 9, 9, 6, 0, 5, 1, 8, 7, 0, 7, 2, 1, 1, 3, 4, 9, 9, 9, 9, 9, 9, 8, 3, 7, 2, 9, 7, 8, 0, 4, 9, 9, 5, 1, 0, 5, 9, 7, 3, 1, 7, 3, 2, 8, 1, 6, 0, 9, 6, 3, 1, 8, 5, 9, 5, 0, 2, 4, 4, 5, 9, 4, 5, 5, 3, 4, 6, 9, 0, 8, 3, 0, 2, 6, 4, 2, 5, 2, 2, 3, 0, 8, 2, 5, 3, 3, 4, 4, 6, 8, 5, 0, 3, 5, 2, 6, 1, 9, 3, 1, 1, 8, 8, 1, 7, 1, 0, 1, 0, 0, 0, 3, 1, 3, 7, 8, 3, 8, 7, 5, 2, 8, 8, 6, 5, 8, 7, 5, 3, 3, 2, 0, 8, 3, 8, 1, 4, 2, 0, 6, 1, 7, 1, 7, 7, 6, 6, 9, 1, 4, 7, 3, 0, 3, 5, 9, 8, 2, 5, 3, 4, 9, 0, 4, 2, 8, 7, 5, 5, 4, 6, 8, 7, 3, 1, 1, 5, 9, 5, 6, 2, 8, 6, 3, 8, 8, 2, 3, 5, 3, 7, 8, 7, 5, 9, 3, 7, 5, 1, 9, 5, 7, 7, 8, 1, 8, 5, 7, 7, 8, 0, 5, 3, 2, 1, 7, 1, 2, 2, 6, 8, 0, 6, 6, 1, 3, 0, 0, 1, 9, 2, 7, 8, 7, 6, 6, 1, 1, 1, 9, 5, 9, 0, 9, 2, 1, 6, 4, 2, 0, 1, 9, 8, 9 };
	int score;
	int key;
	int num;
	int bsc;
	int times = 100;
	int i, ii;
	score = 0;
	system("color 3f");
	printf("\n원주율 값을\n차례대로\n입력해주세요.\n");

	for (i = 0; i < 1001; i++) {
		ii = i + 1;

		system("cls");
		system("color 3f");
		FILE* file = fopen("score.dat", "rt");
		if (file == 0) { bsc = 0; }
		else {
			fscanf(file, "%d", &bsc);
			fclose(file);
		};
		printf("───────────────────────────────────────────────────────────\n\n");
		printf("                     %04d번째 원주율 값                 \n\n", ii);
		printf("───────────────────────────────────────────────────────────\n");
		printf("                        점수-%08d                 \n", score);
		printf("───────────────────────────────────────────────────────────\n");
		printf("                     최고기록 :%08d                     \n", bsc);
		printf("───────────────────────────────────────────────────────────\n\n\n");
		ColorSet(15, 3);
		printf("                                                            \n");
		printf("     ┌─────────┐       ┌─────────┐       ┌─────────┐        \n");
		printf("     │    1    │       │    2    │       │    3    │        \n");
		printf("     └─────────┘       └─────────┘       └─────────┘        \n");
		printf("                                                            \n");
		printf("     ┌─────────┐       ┌─────────┐       ┌─────────┐        \n");
		printf("     │    4    │       │    5    │       │    6    │        \n");
		printf("     └─────────┘       └─────────┘       └─────────┘        \n");
		printf("                                                            \n");
		printf("     ┌─────────┐       ┌─────────┐       ┌─────────┐        \n");
		printf("     │    7    │       │    8    │       │    9    │        \n");
		printf("     └─────────┘       └─────────┘       └─────────┘        \n");
		printf("                                                            \n");
		printf("                       ┌─────────┐                          \n");
		printf("                       │    0    │                          \n");
		printf("                       └─────────┘                          \n");
		printf("                                                            \n");
		printf("                                                            \n\n\n");

		while (1) { 
			if (_kbhit()) {
				key = _getch();
				if (key == 48 || key == 49 || key == 50 || key == 51 || key == 52 || key == 53 || key == 54 || key == 55 || key == 56 || key == 57) {
					num = key - 48;
					if (num == str[i]) {
						score += 314;
						if (num == 0) Beep(C, 200);
						else if (num == 1) Beep(D, 200);
						else if (num == 2) Beep(E, 200);
						else if (num == 3) Beep(F, 200);
						else if (num == 4) Beep(G, 200);
						else if (num == 5) Beep(A, 200);
						else if (num == 6) Beep(B, 200);
						else if (num == 7) Beep(C2, 200);
						else if (num == 8) Beep(D2, 200);
						else if (num == 9) Beep(E2, 200);
						break;
					}

					else {
						if (score > bsc) {
							FILE* file = fopen("score.dat", "wt");
								fprintf(file, "%d", score);
								fclose(file);
						}
						Beep(X, 200);
						ColorSet(15, 3);
						printf("                                                            \n");
						printf("                          재시작 1                          \n");
						printf("                                                            \n\n\n");
						printf("                                                            \n");
						printf("                         게임종료 2                         \n");
						printf("                                                            \n");
						while (1) {
							if (_kbhit()) {
								key = _getch();
								if (key == 49) {
									printf("게임을 시작합니다.\n\n");
									Sleep(700);
									hamsufor();
								}
								else if (key == 50) {
									exit(0);
								}
							}
						}
					}
				}

			}
		}
	}

}





int main(void) { //첫 화면 
	int menukey = 9;
	int bsc;
	system("mode con cols=60 lines=50");
	system("color 3f");
	int a;
	printf("\n\n\n");
	printf("  ■■■■■■  ■■■■  ■■■■  ■      ■  ■■■■\n");
	printf(" ■  ■ ■      ■        ■    ■  ■■  ■■  ■      \n");
	printf("     ■ ■      ■  ■■  ■■■■  ■  ■  ■  ■■■■\n");
	printf("     ■  ■■   ■    ■  ■    ■  ■      ■  ■      \n");
	printf("    ■    ■    ■■■■  ■    ■  ■      ■  ■■■■\n");
	printf("\n\n\n\n\n\n\n\n");
	ColorSet(15, 3);
	printf("                                                            \n");
	printf("                         게임시작 1                         \n");
	printf("                                                            \n\n\n\n");
	printf("                                                            \n");
	printf("                         게임종료 2                         \n");
	printf("                                                            \n\n\n\n");
	printf("                                                            \n");
	printf("                        파이값 보기 3                       \n");
	printf("                                                            \n\n\n\n");
	printf("                                                            \n");
	printf("                       최고기록 보기 4                      \n");
	printf("                                                            \n");

	while (1) { //키 입력 스크립트 
		if (_kbhit()) {
			menukey = _getch();
			if (menukey == 49) {
				system("cls");
				system("color 3f");
				printf("\n\n\n");
				printf("  ■■■■■■  ■■■■  ■■■■  ■      ■  ■■■■\n");
				printf(" ■  ■ ■      ■        ■    ■  ■■  ■■  ■      \n");
				printf("     ■ ■      ■  ■■  ■■■■  ■  ■  ■  ■■■■\n");
				printf("     ■  ■■   ■    ■  ■    ■  ■      ■  ■      \n");
				printf("    ■    ■    ■■■■  ■    ■  ■      ■  ■■■■\n");
				printf("\n\n\n\n\n\n\n\n");
				ColorSet(15, 3);
				printf("                                                            \n");
				printf("                                                            \n");
				printf("                     게임을 시작합니다.                     \n");
				printf("                                                            \n");
				printf("                                                            \n");
				Sleep(1000);
				system("cls");
				system("color 3f");
				printf("\n\n\n");
				printf("  ■■■■■■  ■■■■  ■■■■  ■      ■  ■■■■\n");
				printf(" ■  ■ ■      ■        ■    ■  ■■  ■■  ■      \n");
				printf("     ■ ■      ■  ■■  ■■■■  ■  ■  ■  ■■■■\n");
				printf("     ■  ■■   ■    ■  ■    ■  ■      ■  ■      \n");
				printf("    ■    ■    ■■■■  ■    ■  ■      ■  ■■■■\n");
				printf("\n\n\n\n\n\n\n\n");
				ColorSet(15, 3);
				printf("                                                            \n");
				printf("                                                            \n");
				printf("                         ROADING...                         \n");
				printf("                                                            \n");
				printf("                                                            \n");
				Sleep(1000);
				hamsufor();
			}
		}
		else if (menukey == 50) {
			exit(0);
		}
		else if (menukey == 51) {
			system("cls");
			system("color 3f");
			printf("\n\n\n");
			printf("  ■■■■■■  ■■■■  ■■■■  ■      ■  ■■■■\n");
			printf(" ■  ■ ■      ■        ■    ■  ■■  ■■  ■      \n");
			printf("     ■ ■      ■  ■■  ■■■■  ■  ■  ■  ■■■■\n");
			printf("     ■  ■■   ■    ■  ■    ■  ■      ■  ■      \n");
			printf("    ■    ■    ■■■■  ■    ■  ■      ■  ■■■■\n");
			printf("\n\n\n\n");
			printf("───────────────────────────────────────────────────────────\n");
			printf("3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989...");
			printf("\n───────────────────────────────────────────────────────────\n");
			printf("\n");
			ColorSet(15, 3);
			printf("                                                            \n");
			printf("                      메뉴로 돌아가기 1                     \n");
			printf("                                                            \n");
			while (1) {
				if (_kbhit()) {
					menukey = _getch();
					if (menukey == 49) {
						main();
					}
				}
			}

		}
		else if (menukey == 52) {
			system("cls");
			system("color 3f");
			printf("\n\n\n");
			printf("  ■■■■■■  ■■■■  ■■■■  ■      ■  ■■■■\n");
			printf(" ■  ■ ■      ■        ■    ■  ■■  ■■  ■      \n");
			printf("     ■ ■      ■  ■■  ■■■■  ■  ■  ■  ■■■■\n");
			printf("     ■  ■■   ■    ■  ■    ■  ■      ■  ■      \n");
			printf("    ■    ■    ■■■■  ■    ■  ■      ■  ■■■■\n");
			printf("\n\n\n\n");
			FILE* file = fopen("score.dat", "rt");
			if (file == 0) { bsc = 0; }
			else {
				fscanf(file, "%d", &bsc);
				fclose(file);
			};
			printf("───────────────────────────────────────────────────────────\n");
			printf("                      최고기록 : %08d                 \n", bsc);
			printf("───────────────────────────────────────────────────────────\n");
			printf("\n\n\n\n\n\n");
			ColorSet(15, 3);
			printf("                                                            \n");
			printf("                      메뉴로 돌아가기 1                     \n");
			printf("                                                            \n");
			while (1) {
				if (_kbhit()) {
					menukey = _getch();
					if (menukey == 49) {
						main();
					}
				}
			}

		}
	}
	return 0;
}